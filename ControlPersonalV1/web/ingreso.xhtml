<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

    <f:view contentType="text/html">
        <h:head>
            <f:facet name="first">
                <meta content='text/html; charset=UTF-8' http-equiv="Content-Type"/>
                <title>Ingreso Personal</title>
            </f:facet>           
        </h:head>

        <h:body>
            <p:layout fullPage="true">
                <p:layoutUnit position="center">
                    <h:form id="formulario">
                        <p:panel id="panelIngreso" header="SISTEMA - CONTROL DE INGRESO DE PERSONAL">
                            <p:focus context="panelIngreso"/>
                            <p:panelGrid id="panelGridIngreso" style="width: 100%;">                                
                                <p:row>
                                    <p:column>
                                        <h:outputText value="Cédula:"/>
                                    </p:column>
                                    <p:column>
                                        <p:inputText id="txtCedula" binding="#{ingresosVista.txtCedula}" value="#{ingresosVista.documento}"/>
                                    </p:column>  
                                    <p:column>
                                        <h:outputText value="Primer Apellido:"/>
                                    </p:column>
                                    <p:column>
                                        <p:inputText id="txtPrimerApellido" binding="#{ingresosVista.txtPrimerApellido}"/>
                                    </p:column>    
                                    <p:column>
                                        <h:outputText value="Segundo Apellido:"/>
                                    </p:column>
                                    <p:column>
                                        <p:inputText id="txtSegundoApellido" binding="#{ingresosVista.txtSegundoApellido}"/>
                                    </p:column> 
                                </p:row>
                                <p:row>   
                                    <p:column>
                                        <h:outputText value="Primer Nombre:"/>
                                    </p:column>
                                    <p:column>
                                        <p:inputText id="txtPrimerNombre" binding="#{ingresosVista.txtPrimerNombre}"/>
                                    </p:column>  
                                    <p:column>
                                        <h:outputText value="Segundo Nombre:"/>
                                    </p:column>
                                    <p:column>
                                        <p:inputText id="txtSegundoNombre" binding="#{ingresosVista.txtSegundoNombre}"/>
                                    </p:column>   
                                    <p:column>
                                        <h:outputText value="Sexo:"/>
                                    </p:column>
                                    <p:column>
                                        <p:inputText id="txtSexo" binding="#{ingresosVista.txtSexo}"/>
                                    </p:column> 
                                </p:row>
                                <p:row>
                                    <p:column>
                                        <h:outputText value="Fecha de Nacimiento:"/>
                                    </p:column>
                                    <p:column>
                                        <p:inputText id="txtFechaN" binding="#{ingresosVista.txtFechaN}"/>
                                    </p:column>
                                    <p:column>
                                        <h:outputText value="Tipo de Sangre:"/>
                                    </p:column>
                                    <p:column>
                                        <p:inputText id="txtTipoSangre" binding="#{ingresosVista.txtTipoSangre}"/>
                                    </p:column>    
                                    <p:column>
                                        <h:outputText value="Código Referencia:"/>
                                    </p:column>
                                    <p:column>
                                        <p:inputText id="txtCodigo1" binding="#{ingresosVista.txtCodigo1}"/>
                                    </p:column> 
                                </p:row>   
                                <p:row>
                                    <p:column colspan="2">
                                        <h:outputText value="Código Referencia 2:"/>
                                    </p:column>
                                    <p:column colspan="2">
                                        <p:inputText id="txtCodigo2" binding="#{ingresosVista.txtCodigo2}"/>
                                    </p:column> 
                                    <p:column colspan="2">
                                        <p:inputText id="txtCodigo3" binding="#{ingresosVista.txtCodigo3}">
                                            <p:ajax event="focus" update="formulario" oncomplete="PF('dlgIngreso').show();"  process="@all"  listener="#{ingresosVista.action_registrar_ingreso}" />
                                        </p:inputText>
                                    </p:column> 
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <p:dialog header="INFORMACIÓN DE INGRESO" widgetVar="dlgIngreso" height="160" width="500" onShow="myFunction();" onHide="myStopFunction();">
                            <h:outputText style="font-size: 16px;" value="Fecha: #{ingresosVista.datoFechaIngreso} - Hora: #{ingresosVista.datoHoraIngreso}" />
                            <p:messages id="mensajesDialogo" showDetail="true" style="font-size: 20px;"/>
                            <h:outputText style="font-size: 16px;font-weight: bold;" value="#{ingresosVista.datoNombreIngreso}" /> <br/>
                            <h:outputText style="font-size: 16px;" value="#{ingresosVista.datoCargoIngreso}" />
                        </p:dialog>   
                        <script>
                            var myVar;

                            function myFunction()
                            {
                                myVar = setTimeout(function () {
                                    PF('dlgIngreso').hide();
                                }, 2000);
                            }

                            function myStopFunction()
                            {
                                clearTimeout(myVar);
                            }
                        </script>
                    </h:form>

                </p:layoutUnit>
            </p:layout>
        </h:body>
    </f:view>
</html>



